<!DOCTYPE html>

<html>
	<head>
		<title>HERE Battleship</title>
		<!-- META TAGS -->
		<meta name="viewport" content="initial-scale=1.0, width=device-width" />
		<!-- STYLESHEETS -->
		<link rel="stylesheet" type="text/css" href="style/reset.css">
		<link rel="stylesheet" type="text/css" href="style/main.css">
		<link href='https://fonts.googleapis.com/css?family=Titillium+Web:400,700,400italic|Bevan' rel='stylesheet' type='text/css'>
		<!-- IMPORTED SCRIPTS -->
		<script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js"></script>
		<script src='https://cdn.firebase.com/js/client/2.2.1/firebase.js'></script>
		<script type="text/javascript" src="http://js.api.here.com/v3/3.0/mapsjs-core.js"></script>
		<script type="text/javascript" src="http://js.api.here.com/v3/3.0/mapsjs-service.js"></script>
		<style type="text/css">

			div#map-container{
				width: 100vw;
				height: 80vh;
			}

		</style>
	</head>
	<body>

		Hello World!

		<div id="map-container"></div>

		<!-- NATIVE SCRIPTS -->
		<script type="text/javascript" src="backend.js"></script>
		<script type="text/javascript" src="data.js"></script>
		<script type="text/javascript" src="application.js"></script>
		<script type="text/javascript" src="frontend.js"></script>

		<script type="text/javascript">

		function initHereMap(){

			var platform = new H.service.Platform({
				'app_id': APP_ID,
				'app_code': APP_CODE
			});

			var mapTypes = platform.createDefaultLayers();
			var map = new H.Map(
				document.getElementById('map-container'),
				mapTypes.normal.map,
				{
					zoom: 12,
					center: {
						lat: getUserLat(),
						lng: getUserLon()
					}
				}
			);

			var icon = new H.map.Icon('style/img/hmarker.png');
			var marker = new H.map.Marker(
				{
					lat: getUserLat(),
					lng: getUserLon()
				},
				{
					icon: icon
				}
			);

			map.addObject(marker);
			
			console.log('LOADED HERE MAP');

		}

		getGeolocation(initHereMap);

		console.log('LOADED MAIN');

		</script>

	</body>
</html>